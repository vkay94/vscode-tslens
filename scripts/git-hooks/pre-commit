#!/usr/bin/env sh
.

echo ""
echo "ğŸš€ Pre-commit Quality Checks"
echo "=============================="
echo ""

echo "ğŸ’ Running Prettier (Code Formatting)..."
echo "   â†³ Ensuring consistent code style across all files"
npm run format

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ PRETTIER failed!"
  echo "   â†³ Code formatting could not be applied automatically"
  echo "   ğŸ’¡ Try running 'npm run format' manually to see the error"
  echo ""
  exit 1
fi

echo "   âœ… Code formatting completed successfully"
echo ""

echo "ğŸ” Running ESLint (Code Quality & Best Practices)..."
echo "   â†³ Checking for code quality issues and potential bugs"
npm run lint:check

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ ESLINT failed!"
  echo "   â†³ Code quality issues found that need manual attention"
  echo "   ğŸ’¡ Run 'npm run lint' to automatically fix some issues"
  echo "   ğŸ“‹ Review the errors above and fix them before committing"
  echo ""
  exit 1
fi

echo "   âœ… Code quality checks passed successfully"
echo ""

echo "ğŸ‰ All quality checks passed! Ready to commit."
echo "   â†³ Your code is formatted, follows best practices, and prose is well-written"
echo ""